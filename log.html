<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
    <script>
        var testTypes = {
            falsy: [false, 0, '', undefined, null, NaN],
            numbers: [1, 1.1, 0x20],
            strings: 'hello world',
            fn: function(){return 'function';},
            obj: {
                name: 'Alex Chao',
                age: 25,
                addr: {
                    province: 'Hebei',
                    city: 'Handan'
                }
            },
            arr1: [1, 2, [2, 3], 2],
        };

        (function(global) {

            function Log(el, opts) {
                if (!(this instanceof Log)) {
                    return new Log(opts);
                }

                if (el && el.nodeType && el.nodeType === 1) {
                    this.el = el;
                } else {
                    opts = el;
                    el = null;
                }

                this.opts = extend({
                    id: '',
                    className: '',
                    maxCount: 0,
                    errorClass: 'error-item',
                    warnClass: 'warn-item',
                    infoClass: 'info-item'
                }, opts);


                this.init();
            }

            Log.prototype.init = function() {
                if (!this.el) {
                    this.el = document.createElement('div');
                    this.el.id = this.opts.id;
                    this.el.className = this.opts.className;
                }

                this.count = 0;
                this.lastItem = null;

                returh this;
            };

            Log.prototype.s = Log.prototype.send = function(obj, className) {

                if (this.opts.maxCount && this.count >= this.opts.maxCount) {
                    this.clear();
                }

                this.lastItem = document.createElement('p');
                this.lastItem.className = className;
                this.lastItem.innerHTML = obj;

                this.el.appendChild(this.lastItem);

                return this;
            };

            Log.prototype.error = function(obj) {
                return this.s(obj, this.opts.errorClass);
            };

            Log.prototype.warn = function(obj) {
                return this.s(obj, this.opts.warnClass);
            };

            Log.prototype.info = function(obj) {
                return this.s(obj, this.opts.infoClass);
            };

            Log.prototype.clear = function() {
                this.el.innerHTML = '';
                return this;
            };

            Log.prototype.show = function() {
                this.el.display = 'block';
                return this;
            };

            Log.prototype.hide = function() {
                this.el.display = 'none';
                return this;
            };

            function extend(to, from) {
                if (Object.prototype.toString.call(from) === '[object Object]') {
                    for (var p in from) {
                        if (from.hasOwnProperty(p)) {
                            to[p] = from[p];
                        }
                    }
                }

                return to;
            }

            if (typeof define === 'function' && define.amd) {
                define(Log);
            } else {
                global.Log = Log;
            }

        })(this);
    </script>
</body>
</html>
